<UserControl x:Class="Lacesong.WPF.Views.HomeView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.openxmlformats.org/expression/blend/2008" 
             xmlns:vm="clr-namespace:Lacesong.WPF.ViewModels"
             mc:Ignorable="d" 
             d:DesignHeight="600" d:DesignWidth="800"
             d:DataContext="{d:DesignInstance vm:MainViewModel}">

    <Grid Margin="32">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Margin="0,0,0,24">
            <TextBlock Text="Welcome to Lacesong" FontSize="24" FontWeight="SemiBold" 
                       Foreground="{DynamicResource PrimaryTextBrush}" Margin="0,0,0,8"/>
            <TextBlock Text="Get started by installing mods for your game." 
                       FontSize="14" Foreground="{DynamicResource SecondaryTextBrush}" TextWrapping="Wrap"/>
        </StackPanel>

        <!-- Main Content -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="16"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Quick Actions -->
            <Border Grid.Column="0" Background="{DynamicResource CardBrush}" 
                    CornerRadius="6" Padding="24" Margin="0,0,8,0">
                <StackPanel>
                    <TextBlock Text="Quick Actions" FontSize="18" FontWeight="SemiBold" 
                               Foreground="{DynamicResource PrimaryTextBrush}" Margin="0,0,0,16"/>
                    
                    <Button Content="Install Mod from File" Command="{Binding InstallModFromFileCommand}" 
                            Style="{DynamicResource PrimaryButtonStyle}" Margin="0,0,0,12"/>
                    
                    <Button Content="Install Mod from URL" Command="{Binding InstallModFromUrlCommand}" 
                            Style="{DynamicResource SecondaryButtonStyle}" Margin="0,0,0,12"/>
                    
                    <Button Content="Browse Mod Catalog" Command="{Binding NavigateToViewCommand}" 
                            CommandParameter="ModCatalog" Style="{DynamicResource SecondaryButtonStyle}" Margin="0,0,0,16"/>
                    
                    <Separator Margin="0,8,0,8"/>
                    
                    <TextBlock Text="Need help getting started?" FontSize="12" FontWeight="SemiBold"
                               Foreground="{DynamicResource PrimaryTextBrush}" Margin="0,0,0,8"/>
                    <TextBlock Text="1. Make sure your game is detected" FontSize="11" 
                               Foreground="{DynamicResource SecondaryTextBrush}" Margin="0,0,0,4"/>
                    <TextBlock Text="2. Install the mod loader if needed" FontSize="11" 
                               Foreground="{DynamicResource SecondaryTextBrush}" Margin="0,0,0,4"/>
                    <TextBlock Text="3. Install your favorite mods" FontSize="11" 
                               Foreground="{DynamicResource SecondaryTextBrush}"/>
                </StackPanel>
            </Border>

            <!-- Game Status -->
            <Border Grid.Column="2" Background="{DynamicResource CardBrush}" 
                    CornerRadius="6" Padding="24" Margin="8,0,0,0">
                <StackPanel>
                    <TextBlock Text="Game Status" FontSize="18" FontWeight="SemiBold" 
                               Foreground="{DynamicResource PrimaryTextBrush}" Margin="0,0,0,16"/>
                    
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                        <Ellipse Width="10" Height="10" Fill="{DynamicResource SuccessBrush}" 
                                 Margin="0,0,8,0" Visibility="{Binding IsGameDetected, Converter={StaticResource BooleanToVisibilityConverter}}"/>
                        <Ellipse Width="10" Height="10" Fill="{DynamicResource WarningBrush}" 
                                 Margin="0,0,8,0" Visibility="{Binding IsGameDetected, Converter={StaticResource InverseBooleanToVisibilityConverter}}"/>
                        <TextBlock Text="{Binding IsGameDetected, Converter={StaticResource GameStatusConverter}}" FontSize="13" 
                                   Foreground="{DynamicResource PrimaryTextBrush}"/>
                    </StackPanel>
                    
                    <TextBlock Text="{Binding CurrentGame.Name, StringFormat='Game: {0}'}" FontSize="12" 
                               Foreground="{DynamicResource SecondaryTextBrush}" Margin="0,0,0,8"/>
                    
                    <TextBlock Text="{Binding CurrentGame.InstallPath}" FontSize="11" 
                               Foreground="{DynamicResource SecondaryTextBrush}" 
                               TextWrapping="Wrap" Margin="0,0,0,16"/>
                    
                    <Button Content="Detect Game" Command="{Binding DetectGameCommand}" 
                            Style="{DynamicResource SecondaryButtonStyle}" 
                            IsEnabled="{Binding IsGameDetected, Converter={StaticResource InverseBooleanConverter}}"
                            Margin="0,0,0,8"/>
                    
                    <Button Content="Change Game" Command="{Binding SelectGameDirectoryCommand}" 
                            Style="{DynamicResource SecondaryButtonStyle}" 
                            IsEnabled="{Binding IsGameDetected}"/>
                </StackPanel>
            </Border>
        </Grid>
    </Grid>
</UserControl>
